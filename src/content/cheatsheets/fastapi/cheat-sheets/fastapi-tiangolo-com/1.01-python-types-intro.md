---
title: "1.01 - Introducci칩n a los Tipos en Python (Contexto FastAPI)"
description: "Gu칤a esencial sobre Type Hints para principiantes en FastAPI"
tags: ["python", "fastapi", "typing", "pydantic"]
---

## A - Type Hints: Poniendo etiquetas a tus variables [游댮] [救]

#### 1. **Introducci칩n:**

Los "Type Hints" (o anotaciones de tipo) son una forma especial de decirle a Python qu칠 tipo de dato debe esperar una variable (si es texto, n칰mero, etc.) usando dos puntos `:`.

#### 2. **Ejemplo:**

```python
# SIN Type Hints (No sabemos qu칠 es first_name)
def get_full_name(first_name, last_name):
    return first_name.title() + " " + last_name.title()

# CON Type Hints (Le decimos expl칤citamente que son strings)
def get_full_name(first_name: str, last_name: str):
    return first_name.title() + " " + last_name.title()
```

**Explicaci칩n del ejemplo:**
En la segunda funci칩n, `first_name: str` le indica a quien lea el c칩digo (y al editor) que `first_name` debe ser un texto (`str`). Nota que usamos dos puntos `:`, no un signo de igual `=`.

#### 3. **Desarrollo**:

Es vital que no confundas esto con asignar un valor por defecto.

- `nombre="Juan"` significa "Si no me dan un nombre, uso Juan".
- `nombre: str` significa "Espero que la variable nombre sea un texto".

Aunque Python ejecutar치 el c칩digo igual si no usas los tipos (o si mientes sobre ellos), usarlos es fundamental para que las herramientas modernas te ayuden.

游댮 **Fundamental**: Es la base absoluta de c칩mo se escribe c칩digo moderno en Python y especialmente en FastAPI. Sin esto, est치s volando a ciegas.

## B - El Superpoder del Editor: Autocompletado [游리]

#### 1. **Introducci칩n:**

Al declarar tipos, tu editor de c칩digo (como VS Code) deja de adivinar y empieza a saber exactamente qu칠 m칠todos puedes usar, ofreci칠ndote autocompletado real.

#### 2. **Ejemplo:**

Imagina que quieres convertir la primera letra a may칰scula pero no recuerdas si el m칠todo era `upper`, `capitalize` o `title`.

**Sin tipos (El editor no ayuda):**
![image](https://fastapi.tiangolo.com/img/python-types/image01.png)

**Con tipos (El editor te da la respuesta):**
![image](https://fastapi.tiangolo.com/img/python-types/image02.png)

#### 3. **Desarrollo**:

Cuando est치s aprendiendo, esto es oro puro. En lugar de tener que ir a Google a buscar "c칩mo poner may칰sculas en python", presionas `Ctrl+Space` y el editor te muestra la lista v치lida porque _sabe_ que es un `str`. Adem치s, si intentas sumar un n칰mero a un texto, el editor te subrayar치 el error en rojo antes de que ejecutes el programa.

游리 **Importante**: Ahorra horas de b칰squeda y evita errores tontos de escritura (typos).

## C - Tipos Simples [游댮]

#### 1. **Introducci칩n:**

Puedes declarar todos los tipos est치ndar de Python, no solo texto.

#### 2. **Ejemplo:**

```python
def procesar_items(
    item_a: str,    # Texto
    item_b: int,    # N칰mero entero
    item_c: float,  # N칰mero decimal
    item_d: bool,   # Verdadero/Falso
    item_e: bytes   # Bytes
):
    return item_a, item_b, item_c
```

#### 3. **Desarrollo**:

No hay mucho misterio aqu칤, pero es la base de todo. Aseg칰rate de conocer los nombres: `int` para enteros, `float` para decimales, `bool` para booleanos.

游댮 **Fundamental**: Son los ladrillos b치sicos con los que construir치s todo lo dem치s.

## D - Tipos Gen칠ricos (Contenedores) [游리]

#### 1. **Introducci칩n:**

Hay estructuras de datos que contienen _otras_ cosas adentro (como listas o diccionarios). A estas se les llama "Tipos Gen칠ricos" y nos permiten definir qu칠 hay en su interior.

#### 2. **Ejemplo:**

```python
# Python 3.9+ (Sintaxis moderna)
items: list[str]

# Python 3.8 (Sintaxis antigua, requiere import)
from typing import List
items: List[str]
```

#### 3. **Desarrollo**:

Aqu칤 es donde muchos principiantes se confunden por las versiones de Python.

- **Python 3.10+**: Usas los nombres normales en min칰scula (`list`, `dict`). 춰Es lo recomendado!
- **Python 3.8**: Necesitas importar versiones con may칰scula desde `typing` (`List`, `Dict`).

El texto sugiere fuertemente usar la sintaxis m치s nueva si puedes, ya que es m치s simple.

游리 **Importante**: Necesario para estructuras de datos complejas.

## E - Listas (`list`) [游리]

#### 1. **Introducci칩n:**

Define una lista y especifica qu칠 tipo de datos viven dentro de ella usando corchetes `[]`.

#### 2. **Ejemplo:**

```python
# Una lista donde CADA elemento es un string
def procesar_nombres(nombres: list[str]):
    for nombre in nombres:
        print(nombre.upper())
```

**Explicaci칩n del ejemplo:**
Le estamos diciendo a Python: "`nombres` es una lista, y te prometo que todo lo que hay adentro son textos (`str`)". Gracias a esto, cuando haces el bucle `for`, el editor sabe que `nombre` es un `str` y te permite usar `.upper()`.

![image](https://fastapi.tiangolo.com/img/python-types/image05.png)

#### 3. **Desarrollo**:

Lo que va dentro de los corchetes se llama "par치metro de tipo". Si no lo pones (solo pones `list`), el editor no sabr치 qu칠 hay dentro y no podr치 ayudarte.

游리 **Importante**: Las listas son omnipresentes en programaci칩n.

## F - Tuplas y Sets [游댯]

#### 1. **Introducci칩n:**

Funcionan igual que las listas, pero con sus propias reglas: las Tuplas definen la posici칩n exacta de cada elemento y los Sets definen el tipo de elementos 칰nicos.

#### 2. **Ejemplo:**

```python
# Tupla: El primero ES un int, el segundo ES un int, el tercero ES un str
coordenada_con_nombre: tuple[int, int, str] = (10, 20, "Casa")

# Set: Un conjunto de bytes 칰nicos
hashes: set[bytes] = {b"123", b"456"}
```

#### 3. **Desarrollo**:

- **Tuple**: Nota que definimos _cada_ posici칩n. `tuple[int, int]` espera exactamente dos enteros.
- **Set**: Como la lista, definimos el tipo de los elementos que contiene.

游댯 **Espec칤fico**: Menos comunes que las listas, pero 칰tiles para estructuras fijas.

## G - Diccionarios (`dict`) [游리]

#### 1. **Introducci칩n:**

Para un diccionario necesitas definir dos cosas separadas por coma: el tipo de la **Clave** (Key) y el tipo del **Valor** (Value).

#### 2. **Ejemplo:**

```python
# Claves son strings (nombre del producto)
# Valores son floats (precio)
precios: dict[str, float] = {
    "Manzana": 1.5,
    "Banana": 0.8
}
```

#### 3. **Desarrollo**:

Es muy f치cil olvidar que el diccionario necesita dos par치metros. Recuerda: `dict[CLAVE, VALOR]`. Si solo pones uno, te dar치 error.

游리 **Importante**: Los diccionarios son la estructura de datos principal para manejar JSON en APIs.

## H - Union (O esto O aquello) [游댮]

#### 1. **Introducci칩n:**

Se usa cuando una variable puede ser de uno de varios tipos posibles. Es como decir "Esto puede ser un n칰mero O un texto".

#### 2. **Ejemplo:**

```python
# Python 3.10+ (La barra vertical | significa "O")
def procesar_id(item_id: int | str):
    print(item_id)

# Python 3.8 (Requiere import)
from typing import Union
def procesar_id(item_id: Union[int, str]):
    print(item_id)
```

#### 3. **Desarrollo**:

Esto es muy com칰n en bases de datos donde un ID puede ser el n칰mero `5` o el texto `"5"`. La sintaxis moderna `|` es mucho m치s limpia.

游댮 **Fundamental**: Indispensable para manejar datos flexibles.

## I - Optional / Posiblemente None [游댮]

#### 1. **Introducci칩n:**

Se usa para declarar que una variable puede tener un tipo espec칤fico (como `str`) O puede ser `None` (nulo/vac칤o).

#### 2. **Ejemplo:**

```python
# Python 3.10+
def saludar(nombre: str | None = None):
    if nombre:
        print(f"Hola {nombre}")
    else:
        print("Hola desconocido")

# Python 3.8 (Forma antigua con Optional)
from typing import Optional
def saludar(nombre: Optional[str] = None):
    ...
```

#### 3. **Desarrollo**:

춰Cuidado aqu칤! `Optional[str]` es en realidad un atajo para `Union[str, None]`. Significa que el valor _puede_ ser nulo.
Generalmente se usa junto con un valor por defecto `= None` para que el argumento sea opcional al llamar la funci칩n.

游댮 **Fundamental**: El manejo de valores nulos es la causa #1 de errores en programaci칩n. Esto te obliga a manejarlos conscientemente.

## J - Comparaci칩n: Union vs. Optional [游댯]

#### 1. **Introducci칩n:**

Aunque `Optional[str]` y `Union[str, None]` (o `str | None`) hacen t칠cnicamente lo mismo, el texto recomienda fuertemente evitar `Optional`.

#### 2. **La Trampa Sem치ntica:**

- **Optional[str]**: Suena a que el _par치metro_ es opcional (que puedo no enviarlo a la funci칩n). Pero esto **NO** es verdad. Solo significa que el valor puede ser `None`. Si no le pones un valor por defecto (`= None`), 춰est치s obligado a enviarle `None` expl칤citamente!
- **Union[str, None]** (o `str | None`): Es expl칤cito. Dice "Esto es un texto o es nada". No enga침a sobre si el par치metro es opcional o no.

#### 3. **Ejemplo de la confusi칩n:**

```python
# Definido como Optional, pero SIN valor por defecto
def saludo(nombre: Optional[str]):
    print(nombre)

saludo() # 춰ERROR! Python te gritar치. Espera un argumento.
saludo(None) # Esto s칤 funciona.
```

#### 4. **Veredicto:**

Usa **`Union[Tipo, None]`** o **`Tipo | None`**. Es m치s honesto y claro sobre lo que est치 pasando. La palabra "Optional" es confusa.

游댯 **Espec칤fico**: Una distinci칩n sutil pero que mejora la claridad mental del equipo.

## K - Clases como Tipos [游리]

#### 1. **Introducci칩n:**

Puedes usar tus propias clases como tipos. Esto le dice al editor que la variable es una **instancia** de esa clase.

#### 2. **Ejemplo:**

```python
class Persona:
    def __init__(self, nombre: str):
        self.nombre = nombre

def obtener_nombre(usuario: Persona): # <--- Aqu칤 usamos la clase como tipo
    return usuario.nombre
```

#### 3. **Desarrollo**:

Al hacer esto, si escribes `usuario.`, el editor te mostrar치 `nombre` como opci칩n autocompletada. Recuerda: significa que la variable es un _objeto_ creado a partir de esa clase, no la clase en s칤 misma.

![image](https://fastapi.tiangolo.com/img/python-types/image06.png)

游리 **Importante**: Fundamental para Programaci칩n Orientada a Objetos.

## L - Modelos Pydantic [游댮]

#### 1. **Introducci칩n:**

Pydantic es una librer칤a que usa clases para definir la "forma" de tus datos. FastAPI est치 basado completamente en esto.

#### 2. **Ejemplo:**

```python
from pydantic import BaseModel

class Usuario(BaseModel):
    id: int
    nombre: str = "Juan Perez"
    amigos: list[int] = []

# Pydantic valida los datos autom치ticamente:
datos_externos = {"id": "123", "amigos": [1, "2"]}
usuario = Usuario(**datos_externos)

print(usuario.id) # Imprime 123 (como n칰mero entero, 춰lo convirti칩 solo!)
```

#### 3. **Desarrollo**:

Pydantic hace tres cosas m치gicas:

1.  Lee los tipos.
2.  Valida que los datos coincidan.
3.  Convierte los datos si es necesario (ej: el string "123" lo convirti칩 al entero `123`).

游댮 **Fundamental**: Si vas a usar FastAPI, Pydantic es tu pan de cada d칤a.

## M - Annotated (Metadatos) [游댯]

#### 1. **Introducci칩n:**

Permite adjuntar informaci칩n extra (metadatos) a un tipo. Python base ignora esto, pero FastAPI lo usa para configuraciones avanzadas.

#### 2. **Ejemplo:**

```python
from typing import Annotated

# El tipo sigue siendo str. Lo segundo es solo una nota.
def saludar(nombre: Annotated[str, "esta es info extra"]):
    return f"Hola {nombre}"
```

#### 3. **Desarrollo**:

El **primer** par치metro dentro de `Annotated` es el tipo real (`str`). Todo lo que sigue son metadatos para herramientas externas. En FastAPI se usa mucho para definir validaciones extra (como "este string debe tener m치ximo 50 caracteres").

游댯 **Espec칤fico**: Se vuelve muy importante en temas intermedios/avanzados de FastAPI.

## N - Type Hints en FastAPI [游댮]

#### 1. **Introducci칩n:**

FastAPI usa toda esta informaci칩n de tipos est치ndar de Python para hacer el trabajo pesado por ti.

#### 2. **쯈u칠 hace FastAPI con esto?**

Solo con declarar `def ruta(item: int):`:

1.  **Valida**: Si el usuario env칤a "hola" en vez de un n칰mero, FastAPI devuelve un error autom치ticamente.
2.  **Convierte**: Transforma el texto de la URL a un `int` de Python.
3.  **Documenta**: Genera la documentaci칩n interactiva (Swagger UI) diciendo que ah칤 se requiere un entero.

#### 3. **Desarrollo**:

No tienes que aprender una sintaxis nueva y rara espec칤fica de un framework. Solo aprendes Python est치ndar (lo que acabamos de ver), y FastAPI lo interpreta m치gicamente.

游댮 **Fundamental**: Es la raz칩n de ser de FastAPI.
